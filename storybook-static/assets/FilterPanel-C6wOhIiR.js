import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as p}from"./iframe-d2sodY_R.js";import{m as n}from"./proxy-oLp51Ffe.js";import{F as b}from"./filter-iGNtTwyB.js";import{A as x}from"./index-pUis7lPG.js";import{X as h}from"./x-gYhyWlMT.js";import{S as v}from"./search-B462KUoz.js";import{P as c}from"./plus-BsDFT6l8.js";const w=["gtm.js","gtm.dom","gtm.load","gtm.click","gtm.linkClick","gtm.formSubmit","gtm.historyChange","gtm.scrollDepth","gtm.timer","gtm.video","page_view","view_item","view_item_list","select_item","add_to_cart","remove_from_cart","begin_checkout","add_payment_info","add_shipping_info","purchase","refund","sign_up","login","search","view_promotion","select_promotion","virtualPageView","custom_event"];function j({filters:s,filterMode:i,onAddFilter:g,onRemoveFilter:y,onClearFilters:m,onSetFilterMode:u}){const[f,a]=p.useState(!1),[r,l]=p.useState(""),o=t=>{t.trim()&&!s.includes(t.trim())&&g(t.trim()),l(""),a(!1)},d=w.filter(t=>t.toLowerCase().includes(r.toLowerCase())&&!s.includes(t)).slice(0,5);return e.jsxs(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`rounded-lg p-3 border ${s.length>0?i==="exclude"?"bg-dl-error/10 border-dl-error/30":"bg-dl-success/10 border-dl-success/30":"bg-dl-card border-dl-border"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Active Filters"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("button",{onClick:()=>u("exclude"),className:`px-2 py-1 rounded transition-colors ${i==="exclude"?"bg-dl-error/20 text-dl-error":"text-slate-400 hover:text-slate-200"}`,children:"Exclude"}),e.jsx("button",{onClick:()=>u("include"),className:`px-2 py-1 rounded transition-colors ${i==="include"?"bg-dl-success/20 text-dl-success":"text-slate-400 hover:text-slate-200"}`,children:"Include"}),s.length>0&&m&&e.jsx("button",{onClick:m,className:"px-2 py-1 rounded text-slate-400 hover:text-white hover:bg-white/10 transition-colors",children:"Clear"})]})]}),s.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:e.jsx(x,{children:s.map(t=>e.jsxs(n.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:`inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-full ${i==="exclude"?"bg-dl-error/20 text-dl-error":"bg-dl-success/20 text-dl-success"}`,children:[i==="exclude"?"-":"+"," ",t,e.jsx("button",{onClick:()=>y(t),className:"hover:opacity-70",children:e.jsx(h,{className:"w-3 h-3"})})]},t))})}),e.jsx(x,{mode:"wait",children:f?e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsx("input",{type:"text",value:r,onChange:t=>l(t.target.value),onKeyDown:t=>{t.key==="Enter"&&r.trim()?o(r):t.key==="Escape"&&(a(!1),l(""))},placeholder:"Type event name...",className:"w-full bg-dl-dark border border-dl-border rounded-lg pl-10 pr-8 py-2 text-sm text-white placeholder:text-slate-500 focus:border-dl-primary focus:outline-none",autoFocus:!0}),e.jsx("button",{onClick:()=>{a(!1),l("")},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:e.jsx(h,{className:"w-4 h-4"})})]}),d.length>0&&e.jsx("div",{className:"bg-dl-dark border border-dl-border rounded-lg overflow-hidden",children:d.map(t=>e.jsxs("button",{onClick:()=>o(t),className:"w-full flex items-center justify-between px-3 py-2 text-sm text-slate-300 hover:bg-dl-border hover:text-white transition-colors",children:[e.jsx("span",{children:t}),e.jsx(c,{className:"w-4 h-4 text-dl-primary"})]},t))}),r&&!d.some(t=>t===r)&&e.jsxs("button",{onClick:()=>o(r),className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-dl-primary hover:text-dl-accent transition-colors",children:[e.jsx(c,{className:"w-4 h-4"}),'Add "',r,'"']})]},"adding"):e.jsxs(n.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!0),className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-slate-400 hover:text-dl-primary transition-colors border border-dashed border-dl-border hover:border-dl-primary rounded-lg",children:[e.jsx(c,{className:"w-4 h-4"}),"Add Filter"]},"add-btn")})]})}j.__docgenInfo={description:"",methods:[],displayName:"FilterPanel",props:{filters:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},filterMode:{required:!0,tsType:{name:"union",raw:"'include' | 'exclude'",elements:[{name:"literal",value:"'include'"},{name:"literal",value:"'exclude'"}]},description:""},onAddFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"(filter: string) => void",signature:{arguments:[{type:{name:"string"},name:"filter"}],return:{name:"void"}}},description:""},onRemoveFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"(filter: string) => void",signature:{arguments:[{type:{name:"string"},name:"filter"}],return:{name:"void"}}},description:""},onClearFilters:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSetFilterMode:{required:!0,tsType:{name:"signature",type:"function",raw:"(mode: 'include' | 'exclude') => void",signature:{arguments:[{type:{name:"union",raw:"'include' | 'exclude'",elements:[{name:"literal",value:"'include'"},{name:"literal",value:"'exclude'"}]},name:"mode"}],return:{name:"void"}}},description:""}}};export{j as F};
