import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{b as C,C as q}from"./index-YHEJibdA.js";import{J as H}from"./JsonHighlight-q1P6TuIy.js";import{m as i}from"./proxy-oLp51Ffe.js";import{a as L,C as v}from"./clock-DWTjRa6l.js";import{c as d}from"./createLucideIcon-B5oPKDXb.js";import{F as M}from"./filter-iGNtTwyB.js";import{A as b}from"./index-pUis7lPG.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=d("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=d("ListMinus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=d("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=d("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function z({event:t,isExpanded:r,isCopied:p=!1,isNew:c=!1,showFilterMenu:x=!1,compact:s=!1,showTimestamps:w=!0,sourceColor:n,onToggle:h,onCopy:l,onAddFilterInclude:m,onAddFilterExclude:f,onToggleFilterMenu:o}){const u=C(t.event),y=new Date(t.timestamp),j=y.toLocaleTimeString(),k=y.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),N=m&&f&&o,T=!!l,$=t.source.includes("(persisted)"),g=t.source.replace(" (persisted)","").replace("(persisted)","");return e.jsxs(i.div,{initial:c?{opacity:0,x:20}:!1,animate:{opacity:1,x:0},transition:{duration:.25,ease:[.4,0,.2,1]},className:`group hover:bg-dl-card/50 ${c?"new-event":""}`,style:c?{animation:"highlightFade 2s ease-out forwards"}:void 0,children:[e.jsxs("div",{onClick:h,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),h())},role:"button",tabIndex:0,"aria-expanded":r,"aria-label":`${t.event} event from ${g}. Press Enter to ${r?"collapse":"expand"}`,className:`flex items-center gap-2 cursor-pointer ${s?"px-3 py-2":"px-4 py-3"} focus:outline-none focus-visible:ring-2 focus-visible:ring-dl-primary focus-visible:ring-offset-2 focus-visible:ring-offset-dl-darker`,children:[e.jsx(i.div,{className:"p-0.5 hover:bg-dl-border rounded transition-colors",animate:{rotate:r?90:0},transition:{duration:.15},"aria-hidden":"true",children:e.jsx(L,{className:s?"w-3.5 h-3.5 text-slate-500":"w-4 h-4 text-slate-500"})}),e.jsx("div",{className:`rounded flex items-center justify-center flex-shrink-0 ${s?"w-6 h-6 text-sm":"w-8 h-8 text-lg"}`,style:{backgroundColor:`${u.color}20`},children:u.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx("span",{className:`font-medium truncate ${s?"text-xs":"text-sm"}`,style:{color:u.color},children:t.event})}),e.jsxs("div",{className:`flex items-center gap-1.5 text-slate-500 ${s?"text-[10px]":"text-xs"}`,children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-1 py-0.5 rounded font-mono ${s?"text-[9px]":"text-[10px]"}`,style:n?{backgroundColor:`${n}20`,color:n}:{backgroundColor:"rgba(51, 65, 85, 0.5)",color:"#94a3b8"},children:[t.dataLayerIndex!==void 0&&e.jsxs("span",{className:"opacity-60",children:["#",t.dataLayerIndex]}),g,$&&e.jsx("span",{title:"Persisted event",children:e.jsx(v,{className:`${s?"w-2.5 h-2.5":"w-3 h-3"}`,style:{color:n||"#94a3b8"}})})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-600",children:"•"}),e.jsxs("span",{title:k,className:"inline-flex items-center gap-1 cursor-default",children:[e.jsx(v,{className:s?"w-2.5 h-2.5":"w-3 h-3"}),j]})]}),e.jsx("span",{className:"text-slate-600",children:"•"}),e.jsx(V,{className:s?"w-2.5 h-2.5":"w-3 h-3"}),Object.keys(t.data).length," props"]})]}),e.jsxs("div",{className:"relative flex items-center gap-1 opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity",children:[N&&e.jsxs(e.Fragment,{children:[e.jsx(i.button,{onClick:a=>{a.stopPropagation(),o==null||o()},className:"p-1.5 hover:bg-dl-border rounded transition-all text-slate-400 hover:text-dl-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-dl-primary",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Add to filters","aria-haspopup":"menu","aria-expanded":x,children:e.jsx(M,{className:s?"w-3.5 h-3.5":"w-4 h-4","aria-hidden":"true"})}),e.jsx(b,{children:x&&e.jsxs(i.div,{initial:{opacity:0,y:-5,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-5,scale:.95},transition:{duration:.1},className:"absolute right-0 top-full mt-1 z-50 bg-dl-card border border-dl-border rounded-lg shadow-xl overflow-hidden min-w-[140px]",onClick:a=>a.stopPropagation(),role:"menu","aria-label":"Filter options",children:[e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-slate-300 hover:bg-dl-success/20 hover:text-dl-success transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-dl-success",role:"menuitem",children:[e.jsx(E,{className:"w-3.5 h-3.5","aria-hidden":"true"}),e.jsx("span",{children:"Whitelist"})]}),e.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-slate-300 hover:bg-dl-error/20 hover:text-dl-error transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-dl-error",role:"menuitem",children:[e.jsx(D,{className:"w-3.5 h-3.5","aria-hidden":"true"}),e.jsx("span",{children:"Blacklist"})]})]})})]}),T&&e.jsx(i.button,{onClick:a=>{a.stopPropagation(),l==null||l()},className:`hover:bg-dl-border rounded-lg transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-dl-primary ${s?"p-1.5":"p-2"}`,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":p?"Copied!":"Copy event data",children:p?e.jsx(q,{className:`text-dl-success ${s?"w-3.5 h-3.5":"w-4 h-4"}`,"aria-hidden":"true"}):e.jsx(P,{className:`text-slate-400 ${s?"w-3.5 h-3.5":"w-4 h-4"}`,"aria-hidden":"true"})})]})]}),e.jsx(b,{children:r&&e.jsx(i.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:s?"px-3 pb-2 pl-10":"px-4 pb-4 pl-16",children:e.jsx("pre",{className:`bg-dl-darker rounded-lg font-mono overflow-x-auto max-h-[300px] overflow-y-auto ${s?"p-3 text-[10px]":"p-4 text-xs"}`,children:e.jsx(H,{data:t.data})})})})})]})}z.__docgenInfo={description:"",methods:[],displayName:"EventRow",props:{event:{required:!0,tsType:{name:"DataLayerEvent"},description:""},isExpanded:{required:!0,tsType:{name:"boolean"},description:""},isCopied:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isNew:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showFilterMenu:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},compact:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showTimestamps:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},sourceColor:{required:!1,tsType:{name:"string"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onCopy:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAddFilterInclude:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAddFilterExclude:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleFilterMenu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{z as E};
